use strict;
use warnings;

use Getopt::Guided qw( getopts );

sub run ( \@ ) {
  my @argv = @{ $_[ 0 ] };

  unless ( eval { getopts( '-a:b', my %opts, @argv ) } ) {
    if ( $@ ) {
      print STDERR $@;
      return 255
    } else {
      return 2
    }
  }
  0
}

exit run @ARGV
